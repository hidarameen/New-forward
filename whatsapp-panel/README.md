# لوحة تحكم واتساب ويب 🚀

لوحة تحكم حديثة ومتطورة لإدارة واتساب ويب مع إمكانية تسجيل الدخول عبر باركود QR وإرسال الرسائل.

## المميزات ✨

### 🔐 **تسجيل الدخول الآمن**
- تسجيل دخول سهل عبر باركود QR
- حفظ الجلسة تلقائياً
- إمكانية قطع الاتصال في أي وقت

### 📱 **واجهة مستخدم حديثة**
- تصميم متجاوب يعمل على جميع الأجهزة
- دعم كامل للغة العربية
- ألوان مستوحاة من واتساب الأصلي
- إشعارات فورية ومؤثرات بصرية

### 💬 **إرسال الرسائل**
- إرسال رسائل تجريبية
- تنسيق أرقام الهواتف تلقائياً
- واجهة سهلة الاستخدام

### ⚡ **أداء عالي**
- اتصال مباشر مع واتساب ويب
- تحديثات فورية للحالة
- استخدام WebSocket للاتصال السريع

## المتطلبات 📋

- **Node.js** (الإصدار 16 أو أحدث)
- **npm** أو **yarn**
- **Google Chrome** أو **Chromium** (مثبت تلقائياً مع Puppeteer)
- **اتصال إنترنت مستقر**

## التثبيت السريع 🚀

### 1. تحميل المشروع

```bash
# استنساخ المشروع
git clone <repository-url>
cd whatsapp-panel

# أو تحميل الملفات يدوياً ووضعها في مجلد
```

### 2. تثبيت التبعيات

```bash
# باستخدام npm
npm install

# أو باستخدام yarn
yarn install
```

### 3. تشغيل التطبيق

```bash
# للتشغيل العادي
npm start

# أو للتطوير مع إعادة التشغيل التلقائي
npm run dev
```

### 4. فتح المتصفح

افتح المتصفح واذهب إلى:
```
http://localhost:3000
```

## طريقة الاستخدام 📖

### تسجيل الدخول

1. **افتح التطبيق** في المتصفح
2. **انتظر ظهور باركود QR** (قد يستغرق بضع ثوانٍ)
3. **افتح واتساب** على هاتفك
4. **اذهب إلى الإعدادات** → **الأجهزة المرتبطة**
5. **اضغط على "ربط جهاز"**
6. **امسح الباركود** المعروض على الشاشة
7. **انتظر** تأكيد تسجيل الدخول

### إرسال رسالة تجريبية

1. **بعد تسجيل الدخول** ستظهر لوحة إرسال الرسائل
2. **أدخل رقم الهاتف** (مثال: +966501234567)
3. **اكتب الرسالة** المراد إرسالها
4. **اضغط "إرسال الرسالة"**

### قطع الاتصال

- **اضغط على زر "قطع الاتصال"** في أعلى الشاشة
- **أكد العملية** في النافذة المنبثقة

## الاختصارات ⌨️

- **F5**: تحديث باركود QR
- **Ctrl/Cmd + Enter**: إرسال الرسالة (عند التركيز في منطقة الرسائل)

## هيكل المشروع 📁

```
whatsapp-panel/
├── server.js              # الخادم الرئيسي
├── package.json           # إعدادات المشروع والتبعيات
├── README.md             # هذا الملف
├── public/               # الملفات العامة
│   ├── index.html        # الواجهة الرئيسية
│   ├── style.css         # ملف التنسيق
│   └── script.js         # JavaScript للواجهة
└── .wwebjs_auth/         # مجلد حفظ الجلسات (يُنشأ تلقائياً)
```

## إعدادات متقدمة ⚙️

### تغيير البورت

```bash
# تشغيل على بورت مختلف
PORT=8080 npm start
```

### تخصيص الإعدادات

يمكنك تعديل إعدادات Puppeteer في ملف `server.js`:

```javascript
const whatsappClient = new Client({
    authStrategy: new LocalAuth(),
    puppeteer: {
        headless: true,  // false لإظهار المتصفح
        args: [
            '--no-sandbox',
            '--disable-setuid-sandbox',
            // إضافة المزيد من الخيارات حسب الحاجة
        ]
    }
});
```

## استكشاف الأخطاء 🔧

### المشاكل الشائعة وحلولها

#### 1. الباركود لا يظهر
```bash
# تأكد من تثبيت التبعيات بشكل صحيح
npm install
npm start
```

#### 2. خطأ في Puppeteer
```bash
# إعادة تثبيت Puppeteer
npm uninstall puppeteer
npm install puppeteer
```

#### 3. مشكلة في الصلاحيات (Linux)
```bash
# إضافة صلاحيات Chrome
sudo chmod +x /usr/bin/google-chrome
```

#### 4. فشل في تسجيل الدخول
- تأكد من اتصال الإنترنت
- امسح مجلد `.wwebjs_auth` وأعد المحاولة
- تأكد من أن واتساب محدث على هاتفك

### سجلات الأخطاء

لمراقبة سجلات الخادم:
```bash
# تشغيل مع عرض السجلات التفصيلية
DEBUG=* npm start
```

### إعادة تعيين الجلسة

```bash
# حذف الجلسة المحفوظة
rm -rf .wwebjs_auth
npm start
```

## الأمان 🔒

### نصائح هامة:

1. **لا تشارك** باركود QR مع أي شخص
2. **قم بقطع الاتصال** عند انتهاء الاستخدام
3. **استخدم** على شبكة آمنة
4. **تأكد من إغلاق** المتصفح عند الانتهاء

### في بيئة الإنتاج:

```javascript
// إضافة HTTPS
const https = require('https');
const fs = require('fs');

const options = {
    key: fs.readFileSync('private-key.pem'),
    cert: fs.readFileSync('certificate.pem')
};

https.createServer(options, app).listen(443);
```

## التطوير والمساهمة 👨‍💻

### إعداد بيئة التطوير

```bash
# تثبيت nodemon للتطوير
npm install -g nodemon

# تشغيل وضع التطوير
npm run dev
```

### إضافة مميزات جديدة

1. **Fork** المشروع
2. **إنشاء فرع جديد** للميزة
3. **كتابة الكود** وإضافة التعليقات
4. **اختبار** الميزة جيداً
5. **إرسال Pull Request**

## API Reference 📚

### Socket.IO Events

#### الأحداث الواردة من الخادم:
- `qr`: باركود QR جديد
- `ready`: تسجيل دخول ناجح
- `disconnected`: قطع اتصال
- `auth_failure`: فشل المصادقة
- `message_sent`: تأكيد إرسال الرسالة
- `error`: رسالة خطأ

#### الأحداث المُرسلة للخادم:
- `start_session`: بدء جلسة جديدة
- `disconnect_session`: قطع الاتصال
- `send_test_message`: إرسال رسالة تجريبية

### REST API

#### GET `/api/status`
```json
{
    "isReady": true,
    "clientInfo": {
        "name": "اسم المستخدم",
        "number": "966501234567",
        "platform": "web"
    }
}
```

#### POST `/api/send-message`
```json
{
    "number": "+966501234567",
    "message": "نص الرسالة"
}
```

## الترخيص 📝

هذا المشروع مرخص تحت رخصة MIT - راجع ملف `LICENSE` للتفاصيل.

## إخلاء المسؤولية ⚠️

- هذا المشروع **للأغراض التعليمية** فقط
- **ليس مُصرحاً** رسمياً من واتساب
- **استخدم بحذر** وعلى مسؤوليتك الشخصية
- **تأكد من الامتثال** لشروط خدمة واتساب

## الدعم والمساعدة 💬

للحصول على المساعدة:

1. **تحقق من الأسئلة الشائعة** في هذا الملف
2. **ابحث في Issues** الموجودة
3. **أنشئ Issue جديد** مع وصف مفصل للمشكلة
4. **أرفق سجلات الأخطاء** إن أمكن

---

**صُنع بـ ❤️ للمجتمع العربي**

*آخر تحديث: 2024*